<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
  <title>NFC Stories â€¢ Bilingual</title>
  <meta name="theme-color" content="#0b5fff">
  <style>
    *{box-sizing:border-box}html,body{margin:0;padding:0}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:#0b0e14;color:#e8eaf0}
    .wrap{max-width:900px;margin:0 auto;padding:24px}
    h1{margin:0 0 8px;font-weight:800;font-size:28px}
    .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
    .lang{margin-left:auto;display:flex;gap:8px}
    .btn{background:#121723;border:1px solid #1b2231;border-radius:10px;padding:8px 12px;color:#e8eaf0;text-decoration:none}
    .btn:hover{border-color:#2a3a56}
    ul{list-style:none;padding:0;margin:16px 0;display:grid;grid-template-columns:1fr 1fr;gap:12px}
    a.card{display:block;padding:14px;border-radius:12px;background:#121723;text-decoration:none;color:#e8eaf0;border:1px solid #1b2231}
    a.card h2{margin:0 0 6px;font-size:18px}
    a.card p{margin:0;opacity:.85}
    .hint{opacity:.75;margin-top:8px}
    @media (max-width:640px){ul{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <main class="wrap">
    <div class="row">
      <h1>ðŸ“– NFC Stories</h1>
      <div class="lang">
        <a class="btn" href="#" onclick="setLang('en')">English</a>
        <a class="btn" href="#" onclick="setLang('ar')">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</a>
      </div>
    </div>
    <p class="hint" id="intro">Choose a language, then tap a story. NFC tags can link to a specific language with <code>&lang=en</code> or <code>&lang=ar</code>.</p>
    <ul id="list"></ul>
  </main>
  <script src="stories.js"></script>
  <script>
    function getLang(){return localStorage.getItem('lang')||'ar';}
    function setLang(l){localStorage.setItem('lang',l);location.reload();}
    function t(o){var l=getLang();return (l==='ar'?(o.ar||o.en):(o.en||o.ar));}
    (function(){
      var l=getLang();
      document.documentElement.lang=l;
      document.documentElement.dir=(l==='ar'?'rtl':'ltr');
      document.getElementById('intro').innerHTML = (l==='ar'
        ? 'Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ© Ø«Ù… Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ù‚ØµØ©. ÙŠÙ…ÙƒÙ† Ù„ÙˆÙŽØ³Ù’Ù… Ø§Ù„Ù€NFC Ø£Ù† ÙŠØ´ÙŠØ± Ù…Ø¨Ø§Ø´Ø±Ø©Ù‹ Ø¥Ù„Ù‰ Ù„ØºØ© Ù…Ø­Ø¯Ø¯Ø© Ø¹Ø¨Ø± â€Ž<code>&lang=ar</code> Ø£Ùˆ â€Ž<code>&lang=en</code>.'
        : 'Choose a language, then tap a story. NFC tags can link to a specific language via <code>&lang=en</code> or <code>&lang=ar</code>.');
      var list=document.getElementById('list');
      window.NFC_DB.forEach(function(s){
        var li=document.createElement('li');
        var title=t(s.title), sub=t(s.subtitle);
        var href='story.html?id='+encodeURIComponent(s.id)+'&lang='+l+'&page=1';
        li.innerHTML='<a class="card" href="'+href+'"><h2>'+title+'</h2><p>'+ (sub||'') +'</p></a>';
        list.appendChild(li);
      });
    })();
  </script>
</body>
</html>
